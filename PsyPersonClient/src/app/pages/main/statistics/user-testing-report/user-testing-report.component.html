<div class="card">
    <div class = "row">
        <div class="col-md-12">
            <p-toolbar>
                <div class="p-toolbar-group-left">
                    <span *ngIf="from">
                        <button class="btn btn-md btn-outline-primary mr-3" (click)="goBack()"><i
                                class="pi pi-arrow-left"></i></button>
                    </span>
                    <span>
                        <span>Отчет по пользователю: <b>{{userName}}</b></span>
                    </span>
                </div>
            </p-toolbar>
        </div>
    </div>
    <div class="chart-card">
        <h5>{{testingReport?.statistic?.name}} {{userName}}</h5>
        <p-chart type="line" [data]="testingReport?.statistic?.data" [options]="multiAxisOptions"></p-chart>
    </div>
    
    <p-fieldset legend="Профиль пользователя" class="mb-1">
        <div class="col-md-8">
            
        </div>
        <div class="col-md-4">
            
        </div>
        <!-- <div class="form-group">
            <label for="testTypes" style="font-size: 1.1rem;">Тип теста: *</label>
            <p-dropdown [options]="testTypes" styleClass="form-control mb-2 p-0" optionLabel="key" 
                optionValue="value" name="testTypes"  [(ngModel)]="test.testType" [autoDisplayFirst]="false" [readonly]="edit"></p-dropdown>
        </div>
        <div class="form-group">
            <label for="name" style="font-size: 1.1rem;">Название: *</label>
            <input type="text" id="name" class="form-control mb-2" [(ngModel)]="test.name" name="name" required />
        </div>
        <div class="form-group">
            <label for="description" style="font-size: 1.1rem;">Описание: *</label>
            <textarea type="text" id="description" class="form-control mb-2" [(ngModel)]="test.description" name="description" required></textarea>
        </div> -->
    </p-fieldset>

    <p-fieldset legend="История тестирования" class="mb-1 mt-2">
        <p-accordion [multiple]="true">
            <p-accordionTab *ngFor="let item of testingReport.testingDescriptions; let j = index" header={{item.testName}} class="mb-1">
                    <span *ngFor="let hist of item.historyDesriptionList; let i = index" >
                        Название теста: <span><b style="font-size: 0.9rem; color: #545557;">{{hist.testName}}</b></span> - 
                        Время прохождения: <span><b style="font-size: 0.9rem; color: #545557;">{{hist.testedDate | date: 'dd.MM.yyyy HH:mm:ss'}}</b></span> - 
                        Результат теста: <span><b style="font-size: 0.9rem; color: #545557;">{{hist.testScore  | number: '1.0-1'}}%</b></span> - 
                        Статус тестирования: <span><b style="font-size: 0.9rem; color: #545557;">{{resultStatuses[hist.resultStatus].label}}</b></span><br>
                        <div class="dropdown-divider" *ngIf="item.historyDesriptionList.length !== i+1"></div>
                    </span> 
            </p-accordionTab>

        </p-accordion>
    </p-fieldset>
</div>
